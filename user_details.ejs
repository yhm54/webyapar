<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/public/styles/main.css">
</head>

<body class=" vw-100 d-flex justify-content-center align-items-center" style="height: 100vh">
    <button id="sidebarController" type="button"
        class="position-absolute top-0 end-0 m-4 btn btn-outline-primary border-2 fw-semibold px-4"
        onclick="showSidebar()" style="display: block;">VIEW</button>
    <button id="sidebarController2" type="button"
        class=" position-absolute top-0 end-0 m-4 btn btn-outline-primary border-2 fw-semibold px-4"
        onclick="removeSidebar()" style="display: none;">BACK</button>
    <form id="detailsform" method="post" action="/adminlog"
        class=" fullscreen-form  d-flex flex-column justify-content-between align-items-center">



        <label for="name" class="fullscreen-form-content text-body-secondary text-start  mx-1">Name</label>
        <input type="text" name="username" class=" fullscreen-form-content  form-control  p-2 mb-3" />

        <label for="photo" class="fullscreen-form-content text-body-secondary text-start  mx-1">Photo</label>
        <div id="photoUpload"
            class="  input-group-text  bg-secondary bg-opacity-10 border-2 border-tertiary fullscreen-form-content p-0"
            style="height: 33vh; border-style: dashed;">

            <img id="photodiv" height="100%" alt="" class="fullscreen-form-content" style="position:relative; ">
            <input type="file" accept="image/*" onchange="loadFile(event)" id="file"
                class="fullscreen-form-content h-100" style="opacity: 0; z-index: 10; position: relative;" />
        </div>



        <!-- < type="button" class="btn w-100 fullscreen-form-content btn-primary mt-3  p-2 " onclick="loadFile(event)">SELECT IMAGE</button> -->
    </form>
    <div id="sidebar" class="p-5 bg-white position-absolute sidebar start-100">
        <div id="log" method="post" action="/adminlog"
            class="  d-flex flex-column justify-content-between align-items-center">



            <label for="name" class="fullscreen-form-content text-body-secondary text-start  mx-1">Name</label>
            <input type="text" name="username" class=" fullscreen-form-content  form-control  p-2 mb-3" />

            <label for="photo" class="fullscreen-form-content text-body-secondary text-start  mx-1">Photo</label>
            <div class="  input-group-text  bg-secondary bg-opacity-10 border-2 border-tertiary fullscreen-form-content p-0"
                style="height: 33vh; border-style: dashed;">

                <img id="photodiv" width="100%" height="100%" alt="">
            </div>


            <div class="acc-info">
                Waiting for admin to accept.
            </div>


            <!-- < type="button" class="btn w-100 fullscreen-form-content btn-primary mt-3  p-2 " onclick="loadFile(event)">SELECT IMAGE</button> -->
        </div>
    </div>
    <script>
        var img = document.getElementById("photodiv");
        var inp = document.getElementById("file");
        console.log(window);
        console.log(document.getElementById("photoUpload").style.height / (window.visualViewport * 100));
        var pUW = document.getElementById("photoUpload");
        console.log(pUW);
        var sidebarController = document.getElementById("sidebarController");
        var sidebarController2 = document.getElementById("sidebarController2");
        var sidebar = document.getElementById("sidebar");
        var detailsform = document.getElementById("detailsform");

        var loadFile = function (event) {
            var image = document.getElementById('photodiv');
            // image.height = "300px";
            // image.width = "600px";
            image.src = URL.createObjectURL(event.target.files[0]);

        };

        var showSidebar = function () {

            sidebar.style.display = "block";
            (window.innerWidth > 800) ? sidebar.style.animation = "sidebaranim 1s forwards" : sidebar.style.animation = "sidebaranimPhone 1s forwards";

            detailsform.style.animation = "detailsformanim 1s forwards";
            sidebarController.style.display = "none";
            sidebarController2.style.display = "block";
        }

        var removeSidebar = function () {
            (window.innerWidth > 800) ? () => { sidebar.style.width = "30vw"; sidebar.style.animation = "sidebaranim 1s reverse"; } : () => { sidebar.style.width = "100vw"; sidebar.style.animation = "sidebaranimPhone 1s reverse"; };
            sidebar.style.display = "none";
            // sidebar.style.animation = "sidebardis 1s forwards";
            sidebarController2.style.display = "none";
            sidebarController.style.display = "block";
            detailsform.style.animation = "detailsformanim 1s reverse";

            // sidebar.style.display ="none";
        }
    </script>

</body>

</html>